"use strict";(self.webpackChunk_olmokit_docs=self.webpackChunk_olmokit_docs||[]).push([[6495],{1357:(e,t,r)=>{r.d(t,{Zo:()=>m,kt:()=>g});var n=r(4863);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var p=n.createContext({}),c=function(e){var t=n.useContext(p),r=t;return e&&(r="function"==typeof e?e(t):i(i({},t),e)),r},m=function(e){var t=c(e.components);return n.createElement(p.Provider,{value:t},e.children)},s="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},u=n.forwardRef((function(e,t){var r=e.components,a=e.mdxType,o=e.originalType,p=e.parentName,m=l(e,["components","mdxType","originalType","parentName"]),s=c(r),u=a,g=s["".concat(p,".").concat(u)]||s[u]||d[u]||o;return r?n.createElement(g,i(i({ref:t},m),{},{components:r})):n.createElement(g,i({ref:t},m))}));function g(e,t){var r=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=r.length,i=new Array(o);i[0]=u;var l={};for(var p in t)hasOwnProperty.call(t,p)&&(l[p]=t[p]);l.originalType=e,l[s]="string"==typeof e?e:a,i[1]=l;for(var c=2;c<o;c++)i[c]=r[c];return n.createElement.apply(null,i)}return n.createElement.apply(null,r)}u.displayName="MDXCreateElement"},4086:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>p,contentTitle:()=>i,default:()=>d,frontMatter:()=>o,metadata:()=>l,toc:()=>c});var n=r(3027),a=(r(4863),r(1357));const o={title:"Img"},i=void 0,l={unversionedId:"laravel-frontend/Img",id:"laravel-frontend/Img",title:"Img",description:"Images arriving from CMS api are managed through Image/Intervention then saved in Laravel storage cache (with file driver and Cache facade) and exposed publicly to this route:",source:"@site/docs/laravel-frontend/Img.md",sourceDirName:"laravel-frontend",slug:"/laravel-frontend/Img",permalink:"/olmokit/laravel-frontend/Img",draft:!1,editUrl:"https://github.com/olmokit/olmokit/tree/main/apps/docs/docs/docs/laravel-frontend/Img.md",tags:[],version:"current",frontMatter:{title:"Img"},sidebar:"docs",previous:{title:"I18n",permalink:"/olmokit/laravel-frontend/I18n"},next:{title:"Typography",permalink:"/olmokit/laravel-frontend/Typography"}},p={},c=[{value:"Image processing options/parameters",id:"image-processing-optionsparameters",level:3},{value:"Facades",id:"facades",level:3}],m={toc:c},s="wrapper";function d(e){let{components:t,...r}=e;return(0,a.kt)(s,(0,n.Z)({},m,r,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"Images arriving from CMS api are managed through ",(0,a.kt)("a",{parentName:"p",href:"http://image.intervention.io/"},"Image/Intervention")," then saved in Laravel storage cache (with ",(0,a.kt)("inlineCode",{parentName:"p"},"file")," driver and ",(0,a.kt)("inlineCode",{parentName:"p"},"Cache")," facade) and exposed publicly to this route:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-yaml"},"{APP_URL}/_/img/cache/{imgHash}/{imgName}.{imgExtension}\n")),(0,a.kt)("p",null,"According to SEO best practices images name (",(0,a.kt)("inlineCode",{parentName:"p"},"imgName")," above) are conserved from the original source, cleaned from the timestamp (e.g. ",(0,a.kt)("inlineCode",{parentName:"p"},"{imgName}_2323424323"),") and forced to a clean hypened lowercase string."),(0,a.kt)("p",null,"During local development an endpoint is automatically exposed with the only purpose to test the resizer functionality, query parameters can be changed and the image will be resized on the fly (without being cached anywhere):"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-yaml"},"{APP_URL}/_/img/try/{imgPath}?locale=0w=0&h=0&fit=clip&position=center\n")),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},(0,a.kt)("strong",{parentName:"p"},"Note"),": the CMS or the remote image manager should add a timestamp to the image filename just before it gets uploaded/saved/upated, so that each image filename would always contain a timestamp and there would not be problems of caching and Etags with long expiration.")),(0,a.kt)("h3",{id:"image-processing-optionsparameters"},"Image processing options/parameters"),(0,a.kt)("p",null,"Refer to the ",(0,a.kt)("a",{parentName:"p",href:"/core/img#props"},"props section Props of the ",(0,a.kt)("inlineCode",{parentName:"a"},"<x-img/>")," core component"),"."),(0,a.kt)("h3",{id:"facades"},"Facades"),(0,a.kt)("p",null,"The facade ",(0,a.kt)("inlineCode",{parentName:"p"},"Img")," with its public methods is made available, you might need it in your templates."))}d.isMDXComponent=!0}}]);