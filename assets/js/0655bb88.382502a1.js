"use strict";(self.webpackChunk_olmokit_docs=self.webpackChunk_olmokit_docs||[]).push([[5106],{1357:(e,t,n)=>{n.d(t,{Zo:()=>m,kt:()=>k});var a=n(4863);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function r(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var p=a.createContext({}),s=function(e){var t=a.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},m=function(e){var t=s(e.components);return a.createElement(p.Provider,{value:t},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},c=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,o=e.originalType,p=e.parentName,m=r(e,["components","mdxType","originalType","parentName"]),u=s(n),c=i,k=u["".concat(p,".").concat(c)]||u[c]||d[c]||o;return n?a.createElement(k,l(l({ref:t},m),{},{components:n})):a.createElement(k,l({ref:t},m))}));function k(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var o=n.length,l=new Array(o);l[0]=c;var r={};for(var p in t)hasOwnProperty.call(t,p)&&(r[p]=t[p]);r.originalType=e,r[u]="string"==typeof e?e:i,l[1]=r;for(var s=2;s<o;s++)l[s]=n[s];return a.createElement.apply(null,l)}return a.createElement.apply(null,n)}c.displayName="MDXCreateElement"},863:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>l,default:()=>d,frontMatter:()=>o,metadata:()=>r,toc:()=>s});var a=n(3027),i=(n(4863),n(1357));const o={title:"img"},l=void 0,r={unversionedId:"core/img",id:"core/img",title:"img",description:"Images starting with version laravel-frontend@0.3.7 use pretty urls, see issue. This is not a breaking change, pretty urls are enabled by default when using the olmo CmsApi. This default enabling can be overridden only at a global level for all images in your project through the env variable IMGPRETTYURLS=true or IMGPRETTYURLS=false. Leave that undefined (commented) is recommended.",source:"@site/docs/core/img.md",sourceDirName:"core",slug:"/core/img",permalink:"/olmokit/core/img",draft:!1,editUrl:"https://github.com/olmokit/olmokit/tree/main/apps/docs/docs/docs/core/img.md",tags:[],version:"current",frontMatter:{title:"img"},sidebar:"docs",previous:{title:"forms",permalink:"/olmokit/core/forms"},next:{title:"orchestrations",permalink:"/olmokit/core/orchestrations"}},p={},s=[{value:"Usage",id:"usage",level:2},{value:"Props",id:"props",level:2},{value:"src",id:"src",level:3},{value:"local",id:"local",level:3},{value:"original",id:"original",level:3},{value:"compression",id:"compression",level:3},{value:"compression-webp",id:"compression-webp",level:3},{value:"width",id:"width",level:3},{value:"height",id:"height",level:3},{value:"fit",id:"fit",level:3},{value:"position",id:"position",level:3},{value:"greyscale",id:"greyscale",level:3},{value:"colorize",id:"colorize",level:3},{value:"Other props",id:"other-props",level:2},{value:"tag",id:"tag",level:3},{value:"href",id:"href",level:3},{value:"alt",id:"alt",level:3},{value:"immediate",id:"immediate",level:3},{value:"thumb",id:"thumb",level:3},{value:"fixed",id:"fixed",level:3},{value:"bg-color",id:"bg-color",level:3},{value:"cage",id:"cage",level:3},{value:"css-fit",id:"css-fit",level:3},{value:"progress",id:"progress",level:3},{value:"attrs-root",id:"attrs-root",level:3},{value:"attrs",id:"attrs",level:3},{value:"Caveats",id:"caveats",level:2},{value:"Svg handling",id:"svg-handling",level:3}],m={toc:s},u="wrapper";function d(e){let{components:t,...n}=e;return(0,i.kt)(u,(0,a.Z)({},m,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"Images starting with version ",(0,i.kt)("inlineCode",{parentName:"p"},"laravel-frontend@0.3.7")," use ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/olmokit/olmokit/-/issues/23"},"pretty urls, see issue"),". This is not a breaking change, pretty urls are enabled by default when using the ",(0,i.kt)("inlineCode",{parentName:"p"},"olmo")," CmsApi. This default enabling can be overridden only at a global level for all images in your project through the env variable ",(0,i.kt)("inlineCode",{parentName:"p"},"IMG_PRETTY_URLS=true")," or ",(0,i.kt)("inlineCode",{parentName:"p"},"IMG_PRETTY_URLS=false"),". Leave that undefined (commented) is recommended."),(0,i.kt)("h2",{id:"usage"},"Usage"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-php"},'<x-img src="myfolder/myimage.jpg"/>\n\nor\n\n<x-img src="{{ $mydata[\'image\'] }}"/>\n')),(0,i.kt)("h2",{id:"props"},"Props"),(0,i.kt)("p",null,"Props related to image processing with their defualt values."),(0,i.kt)("h3",{id:"src"},"src"),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},(0,i.kt)("inlineCode",{parentName:"p"},"string"),' ("")')),(0,i.kt)("p",null,"A relative path to your image. By default the base URL is what set by the ",(0,i.kt)("a",{parentName:"p",href:"../laravel-frontend/Cms"},"CMS Api in the ",(0,i.kt)("inlineCode",{parentName:"a"},"/api/structure"))," -> ",(0,i.kt)("inlineCode",{parentName:"p"},"assets")," -> ",(0,i.kt)("inlineCode",{parentName:"p"},"media"),". When ",(0,i.kt)("inlineCode",{parentName:"p"},"local")," is set to ",(0,i.kt)("inlineCode",{parentName:"p"},"true")," the base URL will be your public path ",(0,i.kt)("inlineCode",{parentName:"p"},"/images")," folder where images will be placed automatically during build/dev."),(0,i.kt)("h3",{id:"local"},"local"),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},(0,i.kt)("inlineCode",{parentName:"p"},"boolean")," (false)")),(0,i.kt)("p",null,"Whether an image comes from your local ",(0,i.kt)("inlineCode",{parentName:"p"},"/src/assets/images")," folder or from the remote ",(0,i.kt)("inlineCode",{parentName:"p"},"assets.mediaUrl")," retrieved with the ",(0,i.kt)("a",{parentName:"p",href:"../laravel-frontend/Cms"},(0,i.kt)("inlineCode",{parentName:"a"},"/structure")," CMS API endpoint"),"."),(0,i.kt)("h3",{id:"original"},"original"),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},(0,i.kt)("inlineCode",{parentName:"p"},"boolean")," (false)")),(0,i.kt)("p",null,"Set it to ",(0,i.kt)("inlineCode",{parentName:"p"},'original="true"')," when you want an image to bypass the resizer altoghether. This prevents any transformation operation (cropping, resizing, colorize, greyscale) but still allows to have a blurred thubmnail and predictable width and height."),(0,i.kt)("h3",{id:"compression"},"compression"),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},(0,i.kt)("inlineCode",{parentName:"p"},"string | int")," (90)")),(0,i.kt)("p",null,"Override the ",(0,i.kt)("inlineCode",{parentName:"p"},"jpg")," compression quality for this specific image, to change the default value for all images in your project set in your env ",(0,i.kt)("inlineCode",{parentName:"p"},"IMG_COMPRESSION_QUALITY=75"),"."),(0,i.kt)("h3",{id:"compression-webp"},"compression-webp"),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},(0,i.kt)("inlineCode",{parentName:"p"},"string | int")," (90)")),(0,i.kt)("p",null,"Override the ",(0,i.kt)("inlineCode",{parentName:"p"},"webp")," compression quality for this specific image, to change the default value for all images in your project set in your env ",(0,i.kt)("inlineCode",{parentName:"p"},"IMG_COMPRESSION_QUALITY_WEBP=75"),". It defaults to the ",(0,i.kt)("inlineCode",{parentName:"p"},"compression")," prop if given and to the ",(0,i.kt)("inlineCode",{parentName:"p"},"IMG_COMPRESSION_QUALITY")," env variable if set."),(0,i.kt)("h3",{id:"width"},"width"),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},(0,i.kt)("inlineCode",{parentName:"p"},"number")," (automatically set)")),(0,i.kt)("p",null,"Self explanatory. If not given the image resizer will grab the original image size."),(0,i.kt)("h3",{id:"height"},"height"),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},(0,i.kt)("inlineCode",{parentName:"p"},"number")," (automatically set)")),(0,i.kt)("p",null,"Self explanatory. If not given the image resizer will grab the original image size."),(0,i.kt)("h3",{id:"fit"},"fit"),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},(0,i.kt)("inlineCode",{parentName:"p"},'"clip" | "clamp" | "crop"'),' ("clip")')),(0,i.kt)("p",null,"Follows ",(0,i.kt)("a",{parentName:"p",href:"https://docs.imgix.com/apis/url/size/fit"},"same documentation")," as imgix's ",(0,i.kt)("inlineCode",{parentName:"p"},"fit"),". Valid values here are only ",(0,i.kt)("inlineCode",{parentName:"p"},"clip")," (default), ",(0,i.kt)("inlineCode",{parentName:"p"},"clamp")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"crop"),"."),(0,i.kt)("h3",{id:"position"},"position"),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},(0,i.kt)("inlineCode",{parentName:"p"},'"top-left" | "top" | "top-right" | "left" | "center" | "right" | "bottom-left" | "bottom" | "bottom-right"'),' ("center")')),(0,i.kt)("p",null,"Only applied when using ",(0,i.kt)("inlineCode",{parentName:"p"},"fit=crop"),", about the possible values ",(0,i.kt)("a",{parentName:"p",href:"https://image.intervention.io/v2/api/fit"},"see InterventionImage docs"),"."),(0,i.kt)("h3",{id:"greyscale"},"greyscale"),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},(0,i.kt)("inlineCode",{parentName:"p"},"boolean")," (false)")),(0,i.kt)("p",null,"Note that everything passed will be coerced to a ",(0,i.kt)("inlineCode",{parentName:"p"},"boolean"),"."),(0,i.kt)("h3",{id:"colorize"},"colorize"),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},(0,i.kt)("inlineCode",{parentName:"p"},"string"),' ("")')),(0,i.kt)("p",null,"In this form ",(0,i.kt)("inlineCode",{parentName:"p"},'colorize="r,g,b"')," where ",(0,i.kt)("inlineCode",{parentName:"p"},"r"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"g"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"b")," are numbers, they will be converted to integers. Use values between ",(0,i.kt)("inlineCode",{parentName:"p"},"-100")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"+100"),", ",(0,i.kt)("a",{parentName:"p",href:"https://image.intervention.io/v2/api/colorize"},"see InterventionImage docs"),"."),(0,i.kt)("h2",{id:"other-props"},"Other props"),(0,i.kt)("p",null,"Props not related to image processing with their defualt values."),(0,i.kt)("h3",{id:"tag"},"tag"),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},(0,i.kt)("inlineCode",{parentName:"p"},"string"),' ("span")')),(0,i.kt)("p",null,"When passing an ",(0,i.kt)("inlineCode",{parentName:"p"},'href="mylink"')," attribute it is automatically set to ",(0,i.kt)("inlineCode",{parentName:"p"},"a")," link HTML tag, it defaults to ",(0,i.kt)("inlineCode",{parentName:"p"},"span"),"."),(0,i.kt)("h3",{id:"href"},"href"),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},(0,i.kt)("inlineCode",{parentName:"p"},"string"),' ("")')),(0,i.kt)("p",null,"When passing a url to ",(0,i.kt)("inlineCode",{parentName:"p"},"href")," a link ",(0,i.kt)("inlineCode",{parentName:"p"},"<a>")," HTML tag is used on the wrapper HTML element instead of the default ",(0,i.kt)("inlineCode",{parentName:"p"},"<span>"),", overriding what given to ",(0,i.kt)("inlineCode",{parentName:"p"},"tag")," prop."),(0,i.kt)("h3",{id:"alt"},"alt"),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},(0,i.kt)("inlineCode",{parentName:"p"},"string"),' ("")')),(0,i.kt)("p",null,"For accessibility and SEO this should always be used."),(0,i.kt)("h3",{id:"immediate"},"immediate"),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},(0,i.kt)("inlineCode",{parentName:"p"},"boolean")," (false)")),(0,i.kt)("p",null,'Skips lazy loading and load image immediately, useful for "above-the-fold" images.'),(0,i.kt)("h3",{id:"thumb"},"thumb"),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},(0,i.kt)("inlineCode",{parentName:"p"},"boolean")," (true)")),(0,i.kt)("p",null,"Shows a base64 inline small version of the image before the actual one get lazy loaded."),(0,i.kt)("h3",{id:"fixed"},"fixed"),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},(0,i.kt)("inlineCode",{parentName:"p"},"boolean")," (false)")),(0,i.kt)("p",null,"By default image's wrapper frame are stretched to fit its parent container, with ",(0,i.kt)("inlineCode",{parentName:"p"},'fixed="true"')," it will have a ",(0,i.kt)("inlineCode",{parentName:"p"},"max-width: {width}px")," equal to the given ",(0,i.kt)("a",{parentName:"p",href:"#width"},(0,i.kt)("inlineCode",{parentName:"a"},"width"))," prop."),(0,i.kt)("h3",{id:"bg-color"},"bg-color"),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},(0,i.kt)("inlineCode",{parentName:"p"},"string"),' ("")')),(0,i.kt)("p",null,"You can define a background for the wrapper frame that holds the image, if used you probably want to also set ",(0,i.kt)("inlineCode",{parentName:"p"},':thumb="false"')),(0,i.kt)("h3",{id:"cage"},"cage"),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},(0,i.kt)("inlineCode",{parentName:"p"},"boolean")," (true)")),(0,i.kt)("p",null,'The cage uses a "proportioner" HTML ',(0,i.kt)("inlineCode",{parentName:"p"},"<span>")," element that keeps the img container with the same proportions as the image with the ",(0,i.kt)("inlineCode",{parentName:"p"},"padding-top: {proportion-percentage}%")," technique. The image is placed above it with a ",(0,i.kt)("inlineCode",{parentName:"p"},"position: absolute")," and centered within the created ",(0,i.kt)("em",{parentName:"p"},"cage"),". This structure gives a lot of flexibility and contribute preventing CLS (Cumulative Layout Shifts). As we always know the image and width of the image it is actually not really necessary, therefore you can set it to ",(0,i.kt)("inlineCode",{parentName:"p"},"false"),", especially when you are within ",(0,i.kt)("em",{parentName:"p"},"free-width")," flex containers and you stumble upon the ",(0,i.kt)("em",{parentName:"p"},"0 height resulting elements"),"."),(0,i.kt)("h3",{id:"css-fit"},"css-fit"),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},(0,i.kt)("inlineCode",{parentName:"p"},'"cover" | "contain"'),' ("cover")')),(0,i.kt)("p",null,"By default ",(0,i.kt)("inlineCode",{parentName:"p"},"<img />")," inner tag uses ",(0,i.kt)("inlineCode",{parentName:"p"},"object-fit: cover"),", that can be changed to ",(0,i.kt)("inlineCode",{parentName:"p"},"contain")," (a polyfill ensure browser's compatibility out of the box)."),(0,i.kt)("h3",{id:"progress"},"progress"),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},(0,i.kt)("inlineCode",{parentName:"p"},"boolean | number")," (false)")),(0,i.kt)("p",null,"Shows a centered spinner for lazy loaded imaged, the given ",(0,i.kt)("inlineCode",{parentName:"p"},"number")," will set the diameter of the circular progress spinner (uses ",(0,i.kt)("inlineCode",{parentName:"p"},"<x-progress-circular />"),")"),(0,i.kt)("h3",{id:"attrs-root"},"attrs-root"),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},(0,i.kt)("inlineCode",{parentName:"p"},"attrs-root"),' ("")')),(0,i.kt)("p",null,"Attributes on the wrapper ",(0,i.kt)("inlineCode",{parentName:"p"},"<span />")," HTML element."),(0,i.kt)("h3",{id:"attrs"},"attrs"),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},(0,i.kt)("inlineCode",{parentName:"p"},"attrs"),' ("")')),(0,i.kt)("p",null,"Attributes on the inner ",(0,i.kt)("inlineCode",{parentName:"p"},"<img />")," HTML element."),(0,i.kt)("h2",{id:"caveats"},"Caveats"),(0,i.kt)("h3",{id:"svg-handling"},"Svg handling"),(0,i.kt)("p",null,"Svg images are not supported by this component at the moment, firstly because ",(0,i.kt)("inlineCode",{parentName:"p"},"Image\\Intervention")," does not support it, secondly because we cannot do much on svgs, neither retrieve width and height, nor crop or process them. If you still want to use an ",(0,i.kt)("inlineCode",{parentName:"p"},"svg")," image from the remote source provided by the CMS Api you might want to use the ",(0,i.kt)("a",{parentName:"p",href:"../laravel-frontend/Img"},"facade ",(0,i.kt)("inlineCode",{parentName:"a"},"Img"))," to construct the absolute remote URL of the svg:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-html"},"<img src=\"{{ Img::getOriginalUrl('FOLDER/imagename.svg') }}\" />\n\nor, if the image come from your local src/assets/images folder:\n\n<img src=\"{{ Img::getOriginalLocalUrl('imagename.svg') }}\" />\n")))}d.isMDXComponent=!0}}]);