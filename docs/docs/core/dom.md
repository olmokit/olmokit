<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

## Description

A set of utilities to interact with the DOM, event listeners and
similar low level tasks. For a more structured API (jQuery like) consider
[DOMtastic][1].

```js
import { ... } from "@olmokit/dom";
```

## API

## escape

- **See: [https://developer.mozilla.org/en-US/docs/Web/API/Document/querySelector#Escaping_special_characters][2]
  **

Escape colons to allow use class names as `.module:block__element`

### Parameters

- `selector` **[string][3]**

Returns **[string][3]**

## \$

Sizzle/jQuery like DOM nodes shortcut for `document.querySelector`
To avoid an extra function call we inline the above `escape`

### Parameters

- `selector` **[string][3]** DOM selector
- `parent` **[HTMLElement][4]?** It falls back to `window.document`

### Examples

Basic DOM selection

```javascript
const $container = $(".my-section:");
const $el = $("[data-some-attr]", $container);
```

Returns **[HTMLElement][4]**

## \$\$

Sizzle/jQuery like DOM nodes shortcut for `document.querySelectorAll`
To avoid an extra function call we inline the above `escape`

### Parameters

- `selector` **[string][3]** DOM selector
- `parent` **[HTMLElement][4]?** It falls back to `window.document`

Returns **[NodeList][5]**

## forEach

For each, iterate through a NodeList of HTMLElements

### Parameters

- `nodes` **[NodeList][5]** DOM nodes collection
- `callback` **function ([HTMLElement][4], [number][6]): any**
- `scope` **[Object][7]?**

## \$each

Each shortcut, iterate through a NodeList of HTMLElements retrieved with the
given selector (and optionally a parent container passed as thrid arguement)

### Parameters

- `selector` **[string][3]** DOM selector
- `callback` **function ([HTMLElement][4], [number][6]): any**
- `parent` **[HTMLElement][4]?** It falls back to `window.document`
- `scope` **[Object][7]?**

## toArray

Node list to array

### Parameters

- `nodeList` **([NodeList][5] | HTMLFormControlsCollection)**

Returns **([Array][8]&lt;[HTMLElement][4]> | [Array][8]&lt;[HTMLFormElement][9]>)**

## setVendorCSS

Set vendor CSS rule

### Parameters

- `element` **[HTMLElement][4]** A single HTMLElement
- `prop` **[string][3]** CSS rule proerty
- `value` **([string][3] \| [number][6] \| [boolean][10])** The CSS value to set, it will be automatically vendor prefixed

## isNodeList

Is node list

### Parameters

- `nodes` **any** The object to check

Returns **[boolean][10]**

## on

Shortcut for `addEventListener`

### Parameters

- `el` **([Window][11] \| [Document][12] \| [HTMLElement][4])**
- `type` **[string][3]**
- `handler` **[EventListener][13]**
- `options` **(AddEventListenerOptions | [boolean][10])** (optional, default `false`)

## off

Shortcut for `removeEventListener`

### Parameters

- `el` **([Window][11] \| [Document][12] \| [HTMLElement][4])**
- `type` **[string][3]**
- `handler` **[EventListener][13]**
- `options` **(EventListenerOptions | [boolean][10])** (optional, default `false`)

## once

One shot listener, it `addEventListener` and removes it first time is called
with `removeEventListener`

### Parameters

- `el` **([Window][11] \| [Document][12] \| [HTMLElement][4])**
- `type` **[string][3]**
- `handler` **[EventListener][13]**
- `options` **(EventListenerOptions | [boolean][10])** (optional, default `false`)

## createElement

Shortcut for `document.createElement`, allowing to to create an HTML element
with a given className directly (a very common use case)

### Parameters

- `type` **[string][3]**
- `className` **[string][3]?**

Returns **[HTMLElement][4]**

## isHidden

Is element hidden?

### Parameters

- `el` **[HTMLElement][4]?**

Returns **[boolean][10]**

## siblings

- **See: @glidejs/glide/src/utils/dom (source)
  **

Finds siblings nodes of the passed node.

### Parameters

- `node` **[Element][14]**

Returns **[Array][8]**

## exists

- **See: @glidejs/glide/src/utils/dom (source)
  **

Checks if passed node exist and is a valid element.

### Parameters

- `node` **[Element][14]**

Returns **[Boolean][10]**

## getDataAttr

Get data attribute

### Parameters

- `element` **[HTMLElement][4]**
- `attribute` **[string][3]** The name of the `data-{attr}`

Returns **([string][3] | null)**

## setDataAttr

Set data attribute

### Parameters

- `element` **[Element][14]**
- `attribute` **[string][3]** The name of the `data-{attr}`
- `value` **([string][3] \| [number][6] | null)?** The value to set, `null` or
  `undefined` will remove the attribute

## activeEvents

Listen: events delegation system

From:
[https://github.com/cferdinandi/events][15]
[https://github.com/cferdinandi/events/blob/master/src/js/events/events.js][16]

## activeEvents

Active events

## ListenEvent

Type: [Object][7]

### Properties

- `selector` **[string][3]**

## getIndex

Get the index for the listener

### Parameters

- `arr` **[Array][8]**
- `selector` **[string][3]**
- `callback`

Returns **[number][6]** The index of the listener

## getRunTarget

Check if the listener callback should run or not

### Parameters

- `target` **[Element][14]** The event.target
- `selector` **([string][3] \| [window][11] \| [Document][12] \| [Element][14])** The selector/element to check the target against

Returns **([window][11] \| [Document][12] \| [Element][14] \| `false`)** If not false, run listener and pass the targeted element to use in the callback

## eventHandler

Handle listeners after event fires

### Parameters

- `event` **[Event][17]** The event

## event

Type: [Element][14]

## listen

Listen an event

### Parameters

- `types` **[string][3]** The event type or types (comma separated)
- `selector` **[string][3]** The selector to run the event on
- `callback`

## unlisten

Stop listening for an event

### Parameters

- `types` **[string][3]** The event type or types (comma separated)
- `selector` **[string][3]** The selector to remove the event from
- `callback` **[Function][18]** The function to remove

## listenOnce

Listen an event, and automatically unlisten it after it's first run

### Parameters

- `types` **[string][3]** The event type or types (comma separated)
- `selector` **[string][3]** The selector to run the event on
- `callback` **[Function][18]** The function to run when the event fires

## getListeners

Get an immutable copy of all active event listeners

Returns **[Object][7]** Active event listeners

## listenLoaded

- **See: [https://mathiasbynens.be/notes/settimeout-onload][19]
  **

Fires a callback when the DOM content is loaded

### Parameters

- `handler` **EventHandlerNonNull**

## listenResize

Listen window resize event using lodash's debounce

### Parameters

- `handler` **EventHandlerNonNull**
- `debounceOptions`

Returns **[Function][18]** An automatic unbinding function to run to deregister the listener upon call

## unbinder

Unbind the previously attached scroll handler

## unbinder

Unbind the previously attached scroll handler

## listenScroll

Listen window scroll event using lodash's debounce

### Parameters

- `handler` **EventHandlerNonNull**
- `debounceOptions`

## throttle

- **See: [https://github.com/Mobius1/Rangeable/][20]
  **

Throttle for resize / scroll

### Parameters

- `fn` **[Function][18]**
- `limit` **[Number][6]**
- `context` **[Object][7]**

Returns **[Function][18]**

## emitEvent

Emit event (use only if the targeted browser supports `CustomEvent`s)

### Parameters

- `type` **[string][3]** (optional, default `"customEvent"`)
- `detail` **[Object][7]** (optional, default `{}`)

## getHeight

Get element height

### Parameters

- `element` **[HTMLElement][4]**

Returns **[number][6]**

## getOffset

Get an element's distance from the top and left of the Document.

### Parameters

- `elem` **[HTMLElement][4]** The HTML node element

Returns **{top: [number][6], left: [number][6]}** Distance from the top and left in pixels

## getOffsetTop

- **See: [https://vanillajstoolkit.com/helpers/getoffsettop/][21]
  **

Get an element's distance from the top of the Document.

### Parameters

- `elem` **[HTMLElement][4]** The HTML node element

Returns **[number][6]** Distance from the top in pixels

## getDocumentHeight

- **See: [https://github.com/cferdinandi/smooth-scroll][22] (credits)
  **

Determine the document's height

Returns **[number][6]**

## getScrollbarWidth

Get scrollbar's current width

### Parameters

- `element` **[HTMLElement][4]?**

Returns **[number][6]**

## isTotallyScrolled

- **See: [https://github.com/willmcpo/body-scroll-lock/blob/master/src/bodyScrollLock.js#L116][23]
  **
- **See: [https://developer.mozilla.org/en-US/docs/Web/API/Element/scrollHeight#Problems_and_solutions][24]
  **

Is element totally scrolled

### Parameters

- `el` **[HTMLElement][4]?**

Returns **[boolean][10]**

## isInViewport

Determine if an element is in the viewport

(c) 2017 Chris Ferdinandi, MIT License, [https://gomakethings.com][25]

### Parameters

- `elem` **[Element][14]** The element

Returns **[boolean][10]** Returns true if element is in the viewport

[1]: https://github.com/webpro/DOMtastic
[2]: https://developer.mozilla.org/en-US/docs/Web/API/Document/querySelector#Escaping_special_characters
[3]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String
[4]: https://developer.mozilla.org/docs/Web/HTML/Element
[5]: https://developer.mozilla.org/docs/Web/API/NodeList
[6]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number
[7]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object
[8]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array
[9]: https://developer.mozilla.org/docs/Web/API/HTMLFormElement
[10]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean
[11]: https://developer.mozilla.org/docs/Web/API/Window
[12]: https://developer.mozilla.org/docs/Web/API/Document
[13]: https://developer.mozilla.org/docs/Web/API/EventListener
[14]: https://developer.mozilla.org/docs/Web/API/Element
[15]: https://github.com/cferdinandi/events
[16]: https://github.com/cferdinandi/events/blob/master/src/js/events/events.js
[17]: https://developer.mozilla.org/docs/Web/API/Event
[18]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function
[19]: https://mathiasbynens.be/notes/settimeout-onload
[20]: https://github.com/Mobius1/Rangeable/
[21]: https://vanillajstoolkit.com/helpers/getoffsettop/
[22]: https://github.com/cferdinandi/smooth-scroll
[23]: https://github.com/willmcpo/body-scroll-lock/blob/master/src/bodyScrollLock.js#L116
[24]: https://developer.mozilla.org/en-US/docs/Web/API/Element/scrollHeight#Problems_and_solutions
[25]: https://gomakethings.com
